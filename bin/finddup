#!/usr/bin/env python
import sys, os
sys.path.append(os.path.join(os.path.dirname(os.path.realpath(__file__)), ".."))

import argparse
from finddup import *

parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('dirs', nargs='*', default=["."],
                    help='Directories to recursively search for duplicate files.')
parser.add_argument('-v', '--verbose', action='store_true',
                    help='Verbose output')
args = parser.parse_args()


Log.is_verbose = args.verbose

# Generate filelist and run duplicate detector
filelist = generateFileList(args.dirs)
duplicate_pairs = compareFiles(filelist)

Log.verbose(str(len(filelist)) + " files examined")
Log.verbose(str(len(duplicate_pairs)) + " duplicates found")
